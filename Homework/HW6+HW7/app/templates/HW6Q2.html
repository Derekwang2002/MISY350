{% extends "layouts/inner_base.html" %}

{% block title %} Suplier Login {% endblock title %}

{% block content %}
<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section id="breadcrumbs" class="breadcrumbs">
        <div class="container">

            <ol>
                <li><a href="/">Home</a></li> <!-- index.html -->
                <li>Supplier Login</li>
            </ol>
            <h2>Supplier Login</h2>

        </div>

        <!-- a productID (integer), a product name(string), a supplierID (integer, note that this is a foreign key attribute referencing the supplierID primary key attribute in the suppliers table), and a categoryID (an integer between [1-8]), units in stock (integer), and a unit price (decimal). -->

    </section><!-- End Breadcrumbs -->

    <section class="inner-page">
        <div class="container">
            <form action="{{ url_for('logged') }}" class="row g-3" method="post">
                <div class="row mb-3">
                    <label for="loginSupplierID" class="col-sm-1 col-form-label" id="loginSupplierIDLabel">ID</label>
                    <div class="col-sm-2">
                        <input type="number" id="loginSupplierID" name="loginSupplierID" class="form-control" placeholder="Supplier ID" value="{{ session['loginSupplierID'] }}">
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="loginCompanyName" class="col-sm-1 col-form-label" id="loginCompanyNameLabel">Name</label>
                    <div class="col-sm-5">
                        <input type="text" id="loginCompanyName" name="loginCompanyName" class="form-control" placeholder="Company Name" value="{{ session['loginCompanyName'] }}">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-sm-1 col-form-label"> </label>
                    <div class="col-10">
                        <button type="submit" class="btn btn-primary">Sign in</button>
                    </div>
                </div>
            </form>
        </div>
    </section>

</main><!-- End #main -->

{% with messages = get_flashed_messages() %}
{% if messages %}
{%for message in messages%}
{% if message[1] == 'error' %}
<!-- <div class="alert alert-danger alert-dismissable" role="alert">
                {{ message[0] }}
            </div> 
            <p>There is error for {{message}}</p> -->
<script>
    // sub div
    var errorDiv = document.getElementById('{{message[2]}}').parentNode;
    var subDiv = document.createElement('div');
    subDiv.setAttribute('id', '{{message[2]}}ErrorLn'); // subDiv id
    subDiv.className = 'invalid-feedback';
    subDiv.innerHTML = '{{message[0]}}';
    errorDiv.appendChild(subDiv);
    // input
    var errorInput = document.getElementById('{{message[2]}}');
    errorInput.classList.add('is-invalid');
    errorInput.setAttribute('aria-describedby', '{{message[2]}}Label {{message[2]}}ErrorLn'); // manually add label id
</script>
{% endif %}
{% endfor %}
{% endif %}
{% endwith %}

{% endblock content %}