<!DOCTYPE html>
<html>
	<head>
		<title>Client-side input validation example</title>
		<style>
			.error {color: red;}
		</style>
		<script>

			function checkInputs(event){
				var myForm = document.forms[0];
				var hasError = false;
				if (myForm.fullName.value == ''){
					hasError = true;
					var parentNode = document.getElementById('nameInput');
					var childNode = document.createElement('div');
					var textNode = document.createTextNode('Please enter a name');
					// childNode.className = 'error';
					childNode.setAttribute('class', 'error');
					childNode.appendChild(textNode);
					parentNode.appendChild(childNode);
				}

				//check the chekc box input
				checkBox = myForm.gradexam;
				ifCheck = false;
				for(var i=0; i<checkBox.length; i++){
					if(checkBox[i].checked){
						ifCheck = true;
						break;
					}
				}
				if(!ifCheck){
					hasError = true;
					var parentNode = document.getElementById('test');
					var childNode = document.createElement('div');
					var textNode = document.createTextNode('Please select at least one');
					// childNode.className = 'error';
					childNode.setAttribute('class', 'error');
					childNode.appendChild(textNode);
					parentNode.appendChild(childNode);
				}
				console.log('in here')
				console.log(myForm.gradexam);

				event.preventDefault();
			}

			function init(){
				//set event handler for submit
				var formIn = document.forms[0]; //
				formIn.addEventListener('submit', checkInputs);
			}
			
			document.addEventListener('DOMContentLoaded', init);
		</script>
	</head>

	<body>
		<h2>Please fill out the following form; all fields are required</h2>
		<form name="myForm" method="post" action="http://www.vt.edu">
			<div id="nameInput">
				<strong>Full Name:</strong><br />
				<input type="text" name="fullName" size="20" /><br />
			</div>

			<strong>Address:</strong><br/>
			<textarea name="address" rows="3" cols="25"></textarea><br /><br />
			
			<div>Are you a co-op?</div>
			<input type="radio" name="coop" value="yes" />Yes
			<input type="radio" name="coop" value="no" />No<br /><br />

			<div>Are you going to grad school?</div>
			<input type="radio" name="gradSchool" value="yes" />Yes
			<input type="radio" name="gradSchool" value="no" />No<br /><br />

			<div id="test">
				Which of the following graduate entrance exam have you taken?<br />
				(You must select at least one) <br />
				<input type="checkbox" name="gradexam" value="donor" />GMAT&nbsp;	<br />
				<input type="checkbox" name="gradexam" value="sports" />GRE&nbsp;<br />
			</div>
			<input type="submit" name="button1" value="Submit" />
		</form>
	</body>
</html>
